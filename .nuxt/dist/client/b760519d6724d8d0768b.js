(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{276:function(e,t,r){var content=r(277);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("e521ab94",content,!0,{sourceMap:!1})},277:function(e,t,r){(e.exports=r(13)(!1)).push([e.i,".theme--light.v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-divider{border-color:hsla(0,0%,100%,.12)}.v-divider{display:block;flex:1 1 0px;max-width:100%;height:0;max-height:0;border:solid;border-width:thin 0 0;transition:inherit}.v-divider--inset:not(.v-divider--vertical){margin-left:72px;max-width:calc(100% - 72px)}.v-divider--vertical{align-self:stretch;border:solid;border-width:0 thin 0 0;display:inline-flex;height:inherit;min-height:100%;max-height:100%;max-width:0;width:0;vertical-align:text-bottom}.v-divider--vertical.v-divider--inset{margin-top:8px;min-height:0;max-height:calc(100% - 16px)}",""])},300:function(e,t,r){"use strict";r(276);var n=r(10),o=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e};t.a=n.a.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(e){return e("hr",{class:o({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:this.$attrs,on:this.$listeners})}})},301:function(e,t,r){var content=r(302);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("de401f20",content,!0,{sourceMap:!1})},302:function(e,t,r){(e.exports=r(13)(!1)).push([e.i,".v-rating .v-icon{padding:.5rem;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-rating--readonly .v-icon{pointer-events:none}.v-rating--dense .v-icon{padding:.1rem}",""])},303:function(e,t,r){var content=r(304);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("625a331e",content,!0,{sourceMap:!1})},304:function(e,t,r){(e.exports=r(13)(!1)).push([e.i,".theme--light.v-subheader{color:rgba(0,0,0,.54)}.theme--dark.v-subheader{color:hsla(0,0%,100%,.7)}.v-subheader{align-items:center;display:flex;height:48px;font-size:14px;font-weight:500;padding:0 16px}.v-subheader--inset{margin-left:56px}",""])},308:function(e,t,r){"use strict";r.r(t);r(45);var n=r(4),o=(r(17),r(27),{props:{isbn:{type:String,default:""},bookId:{type:Number,default:1}},data:function(){return{title:"",content:""}},methods:{addReview:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.post("reviews/reviews",{name:this.title,content:this.content,ISBN:this.isbn,authorId:this.$auth.user.id});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.$toast.error("Could not post review",{icon:"error_outline",duration:1e3});case 8:window.location.reload(!0);case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}}),l=r(46),c=r(120),v=r.n(c),d=r(113),h=r(264),f=r(278),m=r(300),x=r(306),y=r(257),w=r(307),k=r(115),V=r(258),component=Object(l.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-toolbar",{attrs:{card:"",color:"#70acb1",dark:""}},[r("v-toolbar-title",[e._v("My review")]),e._v(" "),r("v-spacer")],1),e._v(" "),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{label:"Title","full-width":"","hide-details":"","hide-no-data":"","hide-selected":"",multiple:"","single-line":""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),r("v-divider"),e._v(" "),r("v-text-field",{attrs:{color:"cyan darken",placeholder:"This book was...",multiple:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"#70acb1"},on:{click:e.addReview}},[e._v("Add review")])],1)],1)},[],!1,null,null,null),_=component.exports;v()(component,{VBtn:d.a,VCard:h.a,VCardActions:f.a,VCardText:f.b,VDivider:m.a,VForm:x.a,VSpacer:y.a,VTextField:w.a,VToolbar:k.a,VToolbarTitle:V.a});var I={components:{review:_},data:function(){return{book:Object,reviews:[],userInitial:this.$auth.user.name.charAt(0),hasReview:Boolean}},asyncData:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n,o,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,n=t.params,e.next=3,r.$get("/content/book/".concat(n.book));case 3:return o=e.sent,e.next=6,r.$get("/reviews/reviews");case 6:return l=e.sent,c=l.filter(function(e){return e.ISBN===o.isbn}),e.abrupt("return",{book:o,reviews:c});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),created:function(){this.hasReview=this.reviews.some(this.checkForReview)},methods:{checkForReview:function(e){return e.authorId===this.$auth.user.id}}},C=r(263),T=r(105),$=r(111),H=r(273),R=r(112),S=r(108),O=r(109),j=r(114),B=r(261),F=(r(121),r(301),r(82)),D=r(15),L=r(0),M=L.a.extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(e,t){var r=this;this.clearDelay();var n=parseInt(this[e+"Delay"],10);this[e+"Timeout"]=setTimeout(t||function(){r.isActive={open:!0,close:!1}[e]},n)}}}),E=r(147),N=r(81),A=L.a.extend({name:"rippleable",directives:{Ripple:N.a},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(data.staticClass="v-input--selection-controls__ripple",data.directives=data.directives||[],data.directives.push({name:"ripple",value:{center:!0}}),data.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",data)):null},onChange:function(){}}}),P=r(10),z=r(1),J=r(3),U=Object(J.a)(D.a,M,A,E.a,P.a).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},dense:Boolean,emptyIcon:{type:String,default:"$vuetify.icons.ratingEmpty"},fullIcon:{type:String,default:"$vuetify.icons.ratingFull"},halfIcon:{type:String,default:"$vuetify.icons.ratingHalf"},halfIncrements:Boolean,length:{type:[Number,String],default:5},clearable:Boolean,readonly:Boolean,hover:Boolean,value:{type:Number,default:0}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var e=this.$props,t=e.dark,r=e.medium,n=e.large,o=e.light,small=e.small;return{dark:t,medium:r,large:n,light:o,size:e.size,small:small,xLarge:e.xLarge}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){this.internalValue=e}},methods:{createClickFn:function(i){var e=this;return function(t){if(!e.readonly){var r=e.genHoverIndex(t,i);e.clearable&&e.internalValue===r?e.internalValue=0:e.internalValue=r}}},createProps:function(i){var e={index:i,value:this.internalValue,click:this.createClickFn(i),isFilled:Math.floor(this.internalValue)>i,isHovered:Math.floor(this.hoverIndex)>i};return this.halfIncrements&&(e.isHalfHovered=!e.isHovered&&(this.hoverIndex-i)%1>0,e.isHalfFilled=!e.isFilled&&(this.internalValue-i)%1>0),e},genHoverIndex:function(e,i){return i+(this.isHalfEvent(e)?.5:1)},getIconName:function(e){var t=this.isHovering?e.isHovered:e.isFilled,r=this.isHovering?e.isHalfHovered:e.isHalfFilled;return t?this.fullIcon:r?this.halfIcon:this.emptyIcon},getColor:function(e){if(this.isHovering){if(e.isHovered||e.isHalfHovered)return this.color}else if(e.isFilled||e.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(e){if(this.halfIncrements){var rect=e.target&&e.target.getBoundingClientRect();if(rect&&e.pageX-rect.left<rect.width/2)return!0}return!1},onMouseEnter:function(e,i){var t=this;this.runDelay("open",function(){t.hoverIndex=t.genHoverIndex(e,i)})},onMouseLeave:function(){var e=this;this.runDelay("close",function(){return e.hoverIndex=-1})},genItem:function(i){var e=this,t=this.createProps(i);if(this.$scopedSlots.item)return this.$scopedSlots.item(t);var r={click:t.click};return this.hover&&(r.mouseenter=function(t){return e.onMouseEnter(t,i)},r.mouseleave=this.onMouseLeave,this.halfIncrements&&(r.mousemove=function(t){return e.onMouseEnter(t,i)})),this.$createElement(F.a,this.setTextColor(this.getColor(t),{directives:this.directives,props:this.iconProps,on:r}),[this.getIconName(t)])}},render:function(e){var t=this,r=Object(z.d)(Number(this.length)).map(function(i){return t.genItem(i)});return e("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},r)}}),X=(r(303),Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e}),G=Object(J.a)(P.a).extend({name:"v-subheader",props:{inset:Boolean},render:function(e){return e("div",{staticClass:"v-subheader",class:X({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}}),K=Object(l.a)(I,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[r("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[r("v-flex",{attrs:{xs4:"",md4:"","mb-5":""}},[r("v-card",{staticClass:"text-xs-center"},[r("v-card-title",{staticClass:"card-title display-1 font-weight-thin justify-center",attrs:{color:"#70acb1"}},[e._v("\n          "+e._s(e.book.originalTitle)+"\n        ")]),e._v(" "),r("v-flex",{attrs:{xs6:"","offset-xs3":""}},[r("v-img",{attrs:{contain:"",src:e.book.imageUrl,height:"250px"}})],1),e._v(" "),r("v-card-text",[r("div",{staticClass:"text-xs-center"},[r("v-rating",{attrs:{light:"",color:"#70acb1",readonly:""},model:{value:e.book.averageRating,callback:function(t){e.$set(e.book,"averageRating",t)},expression:"book.averageRating"}})],1)]),e._v(" "),r("v-divider",{attrs:{light:""}}),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"#70acb1",flat:"",nuxt:"",to:"/read"}},[e._v("\n            Read\n          ")])],1)],1)],1),e._v(" "),r("v-flex",{attrs:{xs5:"",md5:"","offset-sm3":""}},[r("v-card",[r("v-toolbar",{attrs:{color:"#70acb1",dark:""}},[r("v-toolbar-title",[e._v("Reviews")]),e._v(" "),r("v-spacer")],1),e._v(" "),r("v-list",{attrs:{"two-line":""}},[e._l(e.reviews,function(t,n){return[t.header?r("v-subheader",{key:t.header},[e._v("\n              "+e._s(t.header)+"\n            ")]):t.divider?r("v-divider",{key:n,attrs:{inset:t.inset}}):r("v-list-tile",{key:t.title,attrs:{avatar:""}},[r("v-list-tile-avatar",{attrs:{color:"#70acb1"}},[r("span",{staticClass:"white--text headline"},[e._v(e._s(e.userInitial))])]),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v(" "+e._s(t.name))]),e._v(" "),r("v-list-tile-sub-title",[e._v(e._s(t.content))])],1)],1)]})],2)],1)],1),e._v(" "),r("v-flex",{attrs:{xs12:""}},[e.hasReview?e._e():r("review",{attrs:{isbn:e.book.isbn,"book-id":e.book.bookid}})],1)],1)],1)},[],!1,null,null,null);t.default=K.exports;v()(K,{VBtn:d.a,VCard:h.a,VCardActions:f.a,VCardText:f.b,VCardTitle:C.a,VContainer:T.a,VDivider:m.a,VFlex:$.a,VImg:H.a,VLayout:R.a,VList:S.a,VListTile:O.a,VListTileAvatar:j.a,VListTileContent:B.a,VListTileSubTitle:B.b,VListTileTitle:B.c,VRating:U,VSpacer:y.a,VSubheader:G,VToolbar:k.a,VToolbarTitle:V.a})}}]);